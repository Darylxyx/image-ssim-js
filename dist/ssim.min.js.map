{"version":3,"sources":["ssim.min.js","/source/ssim.min.js"],"names":["f","exports","module","define","window","n","o","global","image2","SSIM",1,"r","require","compare","i","l","s","t","e","length","K2","lumaValues2","sigsqy","image1","windowSize","K1","luminance","bitsPerComponent","iteration","lumaValues1","averageLumaValue1","averageLumaValue2","sigxy","sigsqx","Math","pow","numPixelsInWin","numerator","c1","c2","denominator","mssim","numWindows","width","height","Error","L","Internals","_iterate","Channels","callback","y","x","windowWidth","min","windowHeight","_lumaValuesForWindow","averageLuma1","_averageLuma","averageLuma2","image","array","data","lumaValues","Float32Array","ArrayBuffer","counter","maxj","j","offset","channels","maxi","sumLuma"],"mappings":"CAAA,SCAUA,GAAG,GAAoBC,gBAAVA,UAAoC,mBAAAC,QAAaA,OAAOD,QAAQD,QAAmBG,IAASA,kBAATA,SAAqBA,OAAYA,IAAAA,UAAUH,OAAiCI,CA6B9KC,GA7BqKD,EAUzKE,GAVkLF,mBAATA,QAUzKE,OAAAA,mBAVuNC,QAUvND,OAcyBE,mBAdzBF,MAAAA,KAAAA,KAAAA,EAAAA,KAcyBE,MAAAA,WAflBC,MAAAA,SAAAA,GAAAA,EAAAA,EAAAA,GAekBD,QAAAA,GAAAA,EAAAA,GAAAA,IAAAA,EAcrBE,GAAAA,CAAAA,IAAAA,EAAAA,GAAAA,CAAAA,GAAAA,GA5BJC,kBAAAA,UAeyBH,OAAAA,KAAAA,GAAAA,EAAAA,MAYrBE,GA7BRE,GAAAA,EAAAA,IAAAA,EAAAA,MAAAA,GAAAA,GAAAA,EAAAA,IAAAA,GAAAA,GAiBaC,OAYLR,uBAZqBG,EAAAA,IAcjBN,MAtCDK,GAAAA,KACXD,mBAOAA,EAPiCQ,GAA0BC,GAAAV,EAAAC,IAAAU,WAAAN,GAAAA,GAAAA,GAAAA,KAM3DE,EACWH,QACPH,SAeAA,GAAAA,GAhBJD,GAAAY,EAAAX,GAgB6BE,GAYrBU,EAAA,OAAAF,GAAAX,EAAAA,EAAAa,IAAAR,EAAAA,EAAAA,QA7BRE,EAAAA,EACWH,EACPE,GAAAL,MAAAa,GAAAA,GAeAb,QAVJ,IAAA,GAU6BE,GAYrB,kBAAAE,UAvBRE,QACWH,EACP,EAAAH,EAAAK,EAAAQ,OAeAb,IAAAU,EAAAL,EAASE,GAAgBL,OAAwBY,KAY7CV,GAAA,SAAgCW,EAE5BnB,EAAmBoB,GD/B/B,GAAIb,IACJ,SAAWA,GACP,YAeA,SAASI,GAAQU,EAAQf,EAAQgB,EAAYC,EAAIL,EAAIM,EAAWC,GAa5D,QAASC,GAAUC,EAAaR,EAAaS,EAAmBC,GAE5D,GAAIC,GAAOC,EAAQX,CACnBU,GAAQC,EAASX,EAAS,CAC1B,KAAK,GAAIR,GAAI,EAAGA,EAAIe,EAAYV,OAAQL,IACpCmB,GAAUC,KAAKC,IAAKN,EAAYf,GAAKgB,EAAoB,GACzDR,GAAUY,KAAKC,IAAKd,EAAYP,GAAKiB,EAAoB,GACzDC,IAAUH,EAAYf,GAAKgB,IAAsBT,EAAYP,GAAKiB,EAEtE,IAAIK,GAAiBP,EAAYV,OAAS,CAC1Cc,IAAUG,EACVd,GAAUc,EACVJ,GAASI,CAET,IAAIC,IAAa,EAAIP,EAAoBC,EAAoBO,IAAO,EAAIN,EAAQO,GAAKC,GAAeN,KAAKC,IAAIL,EAAmB,GAAKI,KAAKC,IAAIJ,EAAmB,GAAKO,IAAOL,EAASX,EAASiB,EAC/LE,IAASJ,EAAYG,EACrBE,IAvBJ,GALmB,SAAflB,IAAyBA,EAAa,GAC/B,SAAPC,IAAiBA,EAAK,KACf,SAAPL,IAAiBA,EAAK,KACR,SAAdM,IAAwBA,GAAY,GACf,SAArBC,IAA+BA,EAAmB,GAClDJ,EAAOoB,QAAUnC,EAAOmC,OAASpB,EAAOqB,SAAWpC,EAAOoC,OAC1D,KAAM,IAAIC,OAAM,+BAGpB,IAAIC,IAAK,GAAKnB,GAAoB,EAE9BW,EAAKJ,KAAKC,IAAKV,EAAKqB,EAAI,GAAIP,EAAKL,KAAKC,IAAKf,EAAK0B,EAAI,GAAIJ,EAAa,EAAGD,EAAQ,CAqBpF,OADAM,GAAUC,SAASzB,EAAQf,EAAQgB,EAAYE,EAAWE,GACnDa,EAAQC,GA5CnB,SAAWO,GACPA,EAASA,EAAe,KAAI,GAAK,OACjCA,EAASA,EAAoB,UAAI,GAAK,YACtCA,EAASA,EAAc,IAAI,GAAK,MAChCA,EAASA,EAAmB,SAAI,GAAK,YACtCxC,EAAKwC,WAAaxC,EAAKwC,aACXxC,GAAKwC,QAwCpBxC,GAAKI,QAAUA,CAIf,IAAIkC,IACJ,SAAWA,GACP,QAASC,GAASzB,EAAQf,EAAQgB,EAAYE,EAAWwB,GAErD,IAAK,GADDP,GAAQpB,EAAOoB,MAAOC,EAASrB,EAAOqB,OACjCO,EAAI,EAAOP,EAAJO,EAAYA,GAAK3B,EAC7B,IAAK,GAAI4B,GAAI,EAAOT,EAAJS,EAAWA,GAAK5B,EAAY,CAExC,GAAI6B,GAAcnB,KAAKoB,IAAI9B,EAAYmB,EAAQS,GAAIG,EAAerB,KAAKoB,IAAI9B,EAAYoB,EAASO,GAC5FtB,EAAc2B,EAAqBjC,EAAQ6B,EAAGD,EAAGE,EAAaE,EAAc7B,GAAYL,EAAcmC,EAAqBhD,EAAQ4C,EAAGD,EAAGE,EAAaE,EAAc7B,GAAY+B,EAAeC,EAAa7B,GAAc8B,EAAeD,EAAarC,EAC1P6B,GAASrB,EAAaR,EAAaoC,EAAcE,IAK7D,QAASH,GAAqBI,EAAOR,EAAGD,EAAGR,EAAOC,EAAQlB,GAGtD,IAAK,GAFDmC,GAAQD,EAAME,KAAMC,EAAa,GAAIC,cAAa,GAAIC,aAAYtB,EAAQC,EAAS,IAAKsB,EAAU,EAClGC,EAAOhB,EAAIP,EACNwB,EAAIjB,EAAOgB,EAAJC,EAAUA,IAAK,CAC3B,GAAIC,GAASD,EAAIR,EAAMjB,MACnB7B,GAAKuD,EAASjB,GAAKQ,EAAMU,SACzBC,GAAQF,EAASjB,EAAIT,GAASiB,EAAMU,QACxC,QAAQV,EAAMU,UACV,IAAK,GACD,KAAWC,EAAJzD,GAEHiD,EAAWG,KAAaL,EAAM/C,IAElC,MACJ,KAAK,GACD,KAAWyD,EAAJzD,GACHiD,EAAWG,KAAaL,EAAM/C,MAAQ+C,EAAM/C,KAAO,IAEvD,MACJ,KAAK,GACD,GAAIY,EACA,KAAW6C,EAAJzD,GACHiD,EAAWG,KAA2B,QAAbL,EAAM/C,KAA+B,QAAb+C,EAAM/C,KAA+B,QAAb+C,EAAM/C,SAInF,MAAWyD,EAAJzD,GACHiD,EAAWG,KAAcL,EAAM/C,KAAO+C,EAAM/C,KAAO+C,EAAM/C,IAGjE,MACJ,KAAK,GACD,GAAIY,EACA,KAAW6C,EAAJzD,GACHiD,EAAWG,MAA2B,QAAbL,EAAM/C,KAA+B,QAAb+C,EAAM/C,KAA+B,QAAb+C,EAAM/C,OAAoB+C,EAAM/C,KAAO,SAIpH,MAAWyD,EAAJzD,GACHiD,EAAWG,MAAcL,EAAM/C,KAAO+C,EAAM/C,KAAO+C,EAAM/C,OAAS+C,EAAM/C,KAAO,MAMnG,MAAOiD,GAEX,QAASL,GAAaK,GAElB,IAAK,GADDS,GAAU,EACL1D,EAAI,EAAGA,EAAIiD,EAAW5C,OAAQL,IACnC0D,GAAWT,EAAWjD,EAE1B,OAAO0D,GAAUT,EAAW5C,OArDhC4B,EAAUC,SAAWA,GAuDtBD,IAAcA,QAClBtC,IAASA,OAGZP,EAAOD,QAAUQ,YAEN,IAAI","file":"ssim.min.js","sourcesContent":["!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var r;r=\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this,r.SSIM=e()}}(function(){return function e(r,n,t){function o(i,f){if(!n[i]){if(!r[i]){var u=\"function\"==typeof require&&require;if(!f&&u)return u(i,!0);if(a)return a(i,!0);var h=new Error(\"Cannot find module '\"+i+\"'\");throw h.code=\"MODULE_NOT_FOUND\",h}var c=n[i]={exports:{}};r[i][0].call(c.exports,function(e){var n=r[i][1][e];return o(n?n:e)},c,c.exports,e,r,n,t)}return n[i].exports}for(var a=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}({1:[function(e,r,n){var t;!function(e){\"use strict\";function r(e,r,t,o,a,i){function f(e,r,n,t){var o,a,i;o=a=i=0;for(var f=0;f<e.length;f++)a+=Math.pow(e[f]-n,2),i+=Math.pow(r[f]-t,2),o+=(e[f]-n)*(r[f]-t);var u=e.length-1;a/=u,i/=u,o/=u;var s=(2*n*t+h)*(2*o+c),p=(Math.pow(n,2)+Math.pow(t,2)+h)*(a+i+c);l+=s/p,d++}if(void 0===t&&(t=8),void 0===o&&(o=.01),void 0===a&&(a=.03),void 0===i&&(i=8),e.width!==r.width||e.height!==r.height)throw new Error(\"Images have different sizes!\");var u=(1<<i)-1,h=Math.pow(o*u,2),c=Math.pow(a*u,2),d=0,l=0;return n._iterate(e,r,t,f),l/d}!function(e){e[e.Grey=1]=\"Grey\",e[e.GreyAlpha=2]=\"GreyAlpha\",e[e.RGB=3]=\"RGB\",e[e.RGBAlpha=4]=\"RGBAlpha\"}(e.Channels||(e.Channels={}));e.Channels;e.compare=r;var n;!function(e){function r(e,r,o,a){for(var i=e.width,f=e.height,u=0;f>u;u+=o)for(var h=0;i>h;h+=o){var c=Math.min(o,i-h),d=Math.min(o,f-u),l=n(e,h,u,c,d),s=n(r,h,u,c,d),p=t(l),v=t(s);a(l,s,p,v)}}function n(e,r,n,t,o){for(var a=e.data,i=new Float32Array(new ArrayBuffer(t*o*4)),f=0,u=n+o,h=n;u>h;h++){var c=h*e.width,d=(c+r)*e.channels,l=(c+r+t)*e.channels;switch(e.channels){case 1:for(;l>d;)i[f++]=a[d++];break;case 2:for(;l>d;)i[f++]=a[d++]*(a[d++]/255);break;case 3:for(;l>d;)i[f++]=.212655*a[d++]+.715158*a[d++]+.072187*a[d++];break;case 4:for(;l>d;)i[f++]=(.212655*a[d++]+.715158*a[d++]+.072187*a[d++])*(a[d++]/255)}}return i}function t(e){for(var r=0,n=0;n<e.length;n++)r+=e[n];return r/e.length}e._iterate=r}(n||(n={}))}(t||(t={})),r.exports=t},{}]},{},[1])(1)});\n//# sourceMappingURL=ssim.min.js.map","!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var r;r=\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this,r.SSIM=e()}}(function(){return function e(r,n,t){function o(i,f){if(!n[i]){if(!r[i]){var u=\"function\"==typeof require&&require;if(!f&&u)return u(i,!0);if(a)return a(i,!0);var h=new Error(\"Cannot find module '\"+i+\"'\");throw h.code=\"MODULE_NOT_FOUND\",h}var c=n[i]={exports:{}};r[i][0].call(c.exports,function(e){var n=r[i][1][e];return o(n?n:e)},c,c.exports,e,r,n,t)}return n[i].exports}for(var a=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}({1:[function(e,r,n){var t;!function(e){\"use strict\";function r(e,r,t,o,a,i){function f(e,r,n,t){var o,a,i;o=a=i=0;for(var f=0;f<e.length;f++)a+=Math.pow(e[f]-n,2),i+=Math.pow(r[f]-t,2),o+=(e[f]-n)*(r[f]-t);var u=e.length-1;a/=u,i/=u,o/=u;var s=(2*n*t+h)*(2*o+c),p=(Math.pow(n,2)+Math.pow(t,2)+h)*(a+i+c);l+=s/p,d++}if(void 0===t&&(t=8),void 0===o&&(o=.01),void 0===a&&(a=.03),void 0===i&&(i=8),e.width!==r.width||e.height!==r.height)throw new Error(\"Images have different sizes!\");var u=(1<<i)-1,h=Math.pow(o*u,2),c=Math.pow(a*u,2),d=0,l=0;return n._iterate(e,r,t,f),l/d}!function(e){e[e.Grey=1]=\"Grey\",e[e.GreyAlpha=2]=\"GreyAlpha\",e[e.RGB=3]=\"RGB\",e[e.RGBAlpha=4]=\"RGBAlpha\"}(e.Channels||(e.Channels={}));e.Channels;e.compare=r;var n;!function(e){function r(e,r,o,a){for(var i=e.width,f=e.height,u=0;f>u;u+=o)for(var h=0;i>h;h+=o){var c=Math.min(o,i-h),d=Math.min(o,f-u),l=n(e,h,u,c,d),s=n(r,h,u,c,d),p=t(l),v=t(s);a(l,s,p,v)}}function n(e,r,n,t,o){for(var a=e.data,i=new Float32Array(new ArrayBuffer(t*o*4)),f=0,u=n+o,h=n;u>h;h++){var c=h*e.width,d=(c+r)*e.channels,l=(c+r+t)*e.channels;switch(e.channels){case 1:for(;l>d;)i[f++]=a[d++];break;case 2:for(;l>d;)i[f++]=a[d++]*(a[d++]/255);break;case 3:for(;l>d;)i[f++]=.212655*a[d++]+.715158*a[d++]+.072187*a[d++];break;case 4:for(;l>d;)i[f++]=(.212655*a[d++]+.715158*a[d++]+.072187*a[d++])*(a[d++]/255)}}return i}function t(e){for(var r=0,n=0;n<e.length;n++)r+=e[n];return r/e.length}e._iterate=r}(n||(n={}))}(t||(t={})),r.exports=t},{}]},{},[1])(1)});\n//# sourceMappingURL=ssim.min.js.map"],"sourceRoot":"/source/"}